{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_zeWygeVI9PjMBSUVH2oTp5elf4OEc1mdPIxnepILG4pvMCSXZXx1Q9oBRUMsYtTz';\n\nexport function fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds').then(res => {\n    return res.data.map(elem => {\n      return {\n        name: elem.name,\n        id: elem.id,\n      };\n    });\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(res => {\n      if (!res.data.length) {\n        throw new Error('Oops! Something went wrong!');\n      }\n      const { url, breeds } = res.data[0];\n      return {\n        url,\n        description: breeds[0].description,\n        name: breeds[0].name,\n        temperament: breeds[0].temperament,\n      };\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n\nbreedSelect.addEventListener('input', onSelect);\n\nfetchBreeds()\n  .then(breeds => {\n    breedSelect.innerHTML = breeds\n      .map(breed => {\n        return `<option value=\"${breed.id}\">${breed.name}</option>`;\n      })\n      .join('');\n    breedSelect.classList.remove('hidden');\n  })\n  .catch(err => {\n    iziToast.show({\n      message: 'Oops! Something went wrong! Try reloading the page!',\n      position: 'topCenter',\n      color: '#FCE8E6',\n    });\n  })\n  .finally(() => {\n    loader.classList.add('hidden');\n  });\n\nfunction onSelect(event) {\n  const breedId = event.target.value;\n  loader.classList.remove('hidden');\n\n  fetchCatByBreed(breedId)\n    .then(({ url, description, name, temperament }) => {\n      catInfo.innerHTML = `\n        <img src=\"${url}\" alt=\"a cat of ${name} breed\" width=\"500px\" />\n        <div class=\"div-text\">\n            <h2 class=\"title\">${name}</h2>\n            <p class=\"text\">${description}</p>\n            <p class=\"text\"><span class=\"temp\">Temperament: </span>${temperament}</p>\n        </div>\n      `;\n      catInfo.classList.remove('hidden');\n    })\n    .catch(err => {\n      iziToast.show({\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'topCenter',\n        color: '#FCE8E6',\n      });\n      catInfo.classList.add('hidden');\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n    });\n}\n"],"names":["axios","fetchBreeds","res","elem","fetchCatByBreed","breedId","url","breeds","breedSelect","loader","catInfo","onSelect","breed","err","iziToast","event","description","name","temperament"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,SAASC,GAAc,CAC5B,OAAOD,EAAM,IAAI,qCAAqC,EAAE,KAAKE,GACpDA,EAAI,KAAK,IAAIC,IACX,CACL,KAAMA,EAAK,KACX,GAAIA,EAAK,EACjB,EACK,CACF,CACH,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EACJ,IAAI,wDAAwDK,GAAS,EACrE,KAAKH,GAAO,CACX,GAAI,CAACA,EAAI,KAAK,OACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,KAAM,CAAE,IAAAI,EAAK,OAAAC,CAAM,EAAKL,EAAI,KAAK,GACjC,MAAO,CACL,IAAAI,EACA,YAAaC,EAAO,GAAG,YACvB,KAAMA,EAAO,GAAG,KAChB,YAAaA,EAAO,GAAG,WAC/B,CACA,CAAK,CACL,CC3BA,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAY,iBAAiB,QAASG,CAAQ,EAE9CV,EAAa,EACV,KAAKM,GAAU,CACdC,EAAY,UAAYD,EACrB,IAAIK,GACI,kBAAkBA,EAAM,OAAOA,EAAM,eAC7C,EACA,KAAK,EAAE,EACVJ,EAAY,UAAU,OAAO,QAAQ,CACzC,CAAG,EACA,MAAMK,GAAO,CACZC,EAAS,KAAK,CACZ,QAAS,sDACT,SAAU,YACV,MAAO,SACb,CAAK,CACL,CAAG,EACA,QAAQ,IAAM,CACbL,EAAO,UAAU,IAAI,QAAQ,CACjC,CAAG,EAEH,SAASE,EAASI,EAAO,CACvB,MAAMV,EAAUU,EAAM,OAAO,MAC7BN,EAAO,UAAU,OAAO,QAAQ,EAEhCL,EAAgBC,CAAO,EACpB,KAAK,CAAC,CAAE,IAAAC,EAAK,YAAAU,EAAa,KAAAC,EAAM,YAAAC,CAAW,IAAO,CACjDR,EAAQ,UAAY;AAAA,oBACNJ,oBAAsBW;AAAA;AAAA,gCAEVA;AAAA,8BACFD;AAAA,qEACuCE;AAAA;AAAA,QAG/DR,EAAQ,UAAU,OAAO,QAAQ,CACvC,CAAK,EACA,MAAMG,GAAO,CACZC,EAAS,KAAK,CACZ,QAAS,sDACT,SAAU,YACV,MAAO,SACf,CAAO,EACDJ,EAAQ,UAAU,IAAI,QAAQ,CACpC,CAAK,EACA,QAAQ,IAAM,CACbD,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,CACL"}